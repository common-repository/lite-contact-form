document.addEventListener("DOMContentLoaded",function(){document.querySelector(".lcf").addEventListener("submit",function(){if(document.querySelector("#lcf-response").removeAttribute("class"),document.querySelector("#lcf-response").innerText="",document.querySelector(".lcf-spinner").style.visibility="visible",document.querySelectorAll(".lcf-validate").forEach(function(e){item=e.querySelector("input, textarea"),item.value?(item.removeAttribute("class"),e.querySelector(".lcf-tip").innerText=""):(item.removeAttribute("class"),item.classList.add("lcf-invalid"),e.querySelector(".lcf-tip").innerText=lcf.empty_field)}),document.querySelectorAll(".lcf-invalid").length)document.querySelector("#lcf-response").classList.add("lcf-blocked"),document.querySelector("#lcf-response").innerText=lcf.invalid,document.querySelector(".lcf-spinner").style.visibility="hidden";else{var e=new XMLHttpRequest;e.open("POST",lcf.submit,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),lcf.nonce&&e.setRequestHeader("X-WP-Nonce",lcf.nonce),e.responseType="json",e.onload=function(){document.querySelector(".lcf").dispatchEvent(new CustomEvent("lcf_submitted",{bubbles:!0,cancelable:!0})),200==this.status?("success"==this.response.status?document.querySelector(".lcf").reset():this.response.fields&&this.response.fields.forEach(function(e){field=document.getElementsByName(e.field)[0],field.removeAttribute("class"),field.classList.add("lcf-invalid"),field.parentNode.querySelector(".lcf-tip").innerText=e.message}),document.querySelector("#lcf-response").classList.add("lcf-"+this.response.status),document.querySelector("#lcf-response").innerText=this.response.message):(document.querySelector("#lcf-response").classList.add("lcf-error"),document.querySelector("#lcf-response").innerText=lcf.error),document.querySelector(".lcf-spinner").style.visibility="hidden"},e.send(new URLSearchParams(new FormData(document.querySelector(".lcf"))))}})});